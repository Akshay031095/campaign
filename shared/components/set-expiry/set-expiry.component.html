<app-modal id="expiry" class="custom-schedule-modal">
  <div class="internal modal-wrapper">
    <div>
      <h3 class="d-flex justify-content-between align-items-center header-modal m-0">
        {{'campaign.set-expiry-campaign' | translate}}
        <span class="cursor-pointer" (click)="closeModal('expiry');">
          <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24">
            <g id="Group_2783" data-name="Group 2783" transform="translate(-907 -297)">
              <g id="Path_2335" data-name="Path 2335" transform="translate(907 297)" fill="none">
                <path d="M12,0A12,12,0,1,1,0,12,12,12,0,0,1,12,0Z" stroke="none" />
                <path
                  d="M 12 1 C 9.061790466308594 1 6.299449920654297 2.144199371337891 4.221820831298828 4.221820831298828 C 2.144199371337891 6.299449920654297 1 9.061790466308594 1 12 C 1 14.93820953369141 2.144199371337891 17.7005500793457 4.221820831298828 19.77817916870117 C 6.299449920654297 21.85580062866211 9.061790466308594 23 12 23 C 14.93820953369141 23 17.7005500793457 21.85580062866211 19.77817916870117 19.77817916870117 C 21.85580062866211 17.7005500793457 23 14.93820953369141 23 12 C 23 9.061790466308594 21.85580062866211 6.299449920654297 19.77817916870117 4.221820831298828 C 17.7005500793457 2.144199371337891 14.93820953369141 1 12 1 M 12 0 C 18.62742042541504 0 24 5.372579574584961 24 12 C 24 18.62742042541504 18.62742042541504 24 12 24 C 5.372579574584961 24 0 18.62742042541504 0 12 C 0 5.372579574584961 5.372579574584961 0 12 0 Z"
                  stroke="none" fill="#233670" />
              </g>
              <g id="sign" transform="translate(915.148 305.227)">
                <g id="Group_2214" data-name="Group 2214" transform="translate(0 0)">
                  <path id="Path_2030" data-name="Path 2030"
                    d="M.191,8.72a.65.65,0,0,0,.92,0L4.1,5.729,7.094,8.72a.651.651,0,0,0,.92-.92L5.022,4.809,7.86,1.971a.651.651,0,0,0-.92-.92L4.1,3.888,1.264,1.05a.651.651,0,0,0-.92.92L3.182,4.809.191,7.8A.65.65,0,0,0,.191,8.72Z"
                    transform="translate(0 -0.86)" fill="#233670" />
                </g>
              </g>
            </g>
          </svg>
        </span>
      </h3>
    </div>
    <div class="inside-modal-content container-fluid">
      <form [formGroup]="expiryCampaignForm">
        <div class="row mb-4">
          <div class="col-md-6">
            <label class="label-text">{{'campaign.create-campaign-campaign-name' | translate}}</label>
            <input type="text" class="form-control custom-placement-rtl custom-placement-ltr" placeholder="Campaign Name" formControlName="campaignName"
              [ngClass]="{'hasError' : showErrors('campaignName', 'required', 'expiryCampaignForm')}"
              [ngStyle]="{'margin-bottom': showErrors('campaignName', 'required', 'expiryCampaignForm') ? '5px' : 'auto'}" readonly>

            <div class="d-block position-relative">
              <span class="error" *ngIf="showErrors('campaignName','required', 'expiryCampaignForm')"><small>
                <img
                    src="../../../assets/images/error.svg" alt="error"></small>{{'campaign.create-campaign-pl-enter-campaign-name' |
                translate}}</span>
            </div>
          </div>
          <div class="col-md-6">
            <label appCustomTooltip class="label-text position-relative">{{'campaign.create-campaign-campaign-category'
              | translate}}
              <!-- <img class="campaign-type-hint" src="assets/images/hint.png" alt="hint">
              <div class="type-tooltip-text">
                <span>{{'campaign.create-campaign-category-tooltip' | translate}}</span>
              </div> -->
            </label>

            <!-- <app-custom-select-with-create [data]="campaignCategoryList" (createNewAction)="newCategory($event)"
              [config]="configCategory" [value]="categorySelectText" (clickElsewhere)="configCategory.open = false"
              (selectAction)="selectActionRecive($event, 'campaignCategory')"
              [errors]="showErrors('campaignCategory', 'required', 'expiryCampaignForm')"
              [ngClass]="{'internal-custom-select' : showErrors('campaignCategory', 'required', 'expiryCampaignForm')}">
            </app-custom-select-with-create> -->
            <input type="text" class="form-control custom-placement-rtl custom-placement-ltr" placeholder="Campaign category" formControlName="campaignCategory"
              [ngClass]="{'hasError' : showErrors('campaignName', 'required', 'expiryCampaignForm')}"
              [ngStyle]="{'margin-bottom': showErrors('campaignName', 'required', 'expiryCampaignForm') ? '5px' : 'auto'}" readonly>

            <div class="d-block position-relative">
              <span class="error" *ngIf="showErrors('campaignName','required', 'expiryCampaignForm')"><small><img
                    src="../../../assets/images/error.svg" alt="error"></small>{{'campaign.create-campaign-pl-enter-campaign-name' |
                translate}}</span>
            </div>

            <div class="d-block position-relative">
              <span class="error" *ngIf="showErrors('campaignCategory','required', 'expiryCampaignForm')"><small><img
                    src="../../../assets/images/error.svg" alt="error"></small>{{'campaign.create-campaign-pl-sel-category' |
                translate}}</span>
            </div>
          </div>
        </div>
        <div class="row mb-4">
          <div class="col-md-6">
            <label class="label-text">{{'campaign.create-campaign-choose-date-expiry' | translate}}</label>

            <div class="date-time-zone custom-datetime-picker" *ngIf="datePickerObj.dateObj"
              [ngClass]="{'date-selected': expiryCampaignForm.get('dateTime').value, 'textarea-hasError' : showErrors('dateTime', 'required', 'expiryCampaignForm'), 'disabled': !scheduleData?.is_expired}"
              [ngStyle]="{'margin-bottom': showErrors('dateTime', 'required', 'expiryCampaignForm') ? '5px' : 'auto'}">
              <app-datepicker [restrictActiveDateTime]="true" [config]="datePickerConfig" [showDefaultDate]="datePickerObj"
                (dateInOutObj)="receiveDate($event)"></app-datepicker>
            </div>
            <div class="d-block position-relative">
              <span class="error" *ngIf="showErrors('dateTime','required', 'expiryCampaignForm')"><small><img
                    src="../../../assets/images/error.svg" alt="error"></small>{{'campaign.create-campaign-pl-choose-date-n-time' |
                translate}}</span>
            </div>
          </div>
          <div class="col-md-6">
            <label class="label-text">{{'campaign.create-campaign-timezone' | translate}}</label>

            <app-custom-select-with-create class="create-campaign-schedule-timezone" [data]="timezones"
              [config]="configTimezone" [value]="timezoneSelectText" (clickElsewhere)="configTimezone.open = false"
              (selectAction)="selectActionRecive($event, 'timezone')"
              [errors]="showErrors('timezone', 'required', 'expiryCampaignForm')"
              [ngClass]="{'internal-custom-select' : showErrors('timezone', 'required', 'expiryCampaignForm'), 'disable': !scheduleData?.is_expired}">
            </app-custom-select-with-create>

            <div class="d-block position-relative">
              <span class="error" *ngIf="showErrors('timezone','required', 'expiryCampaignForm')"><small><img
                    src="../../../assets/images/error.svg" alt="error"></small>{{'campaign.create-campaign-pl-sel-timezone' |
                translate}}</span>
            </div>
          </div>
        </div>
        <div class="text-right">
          <button type="button" class="btn btn-design mr-3" (click)="updateExpiryDate()">{{'camapign.manual-entry-update' |
            translate}}</button>
          <button type="button" class="btn btn-design-white" (click)="cancel()">{{'campaign.insert-cancel-text' | translate}}</button>
        </div>
        <div class="row invalid-timeslot-error mt-3" *ngIf="invalidSlotTime">
          <div class="col-md-12">
            <p class="d-flex">
              <span class="error-title">
                {{'shared.page-not-found-error' | translate}}:-
              </span>
              <span>
                {{invalidSlotTimeText}}
              </span>
            </p>
          </div>
        </div>
      </form>
    </div>
  </div>
</app-modal>
